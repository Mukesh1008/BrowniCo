const hasSpunKey = "brownico_has_spun";
const storedPrizeKey = "brownico_spin_prize";

spinBtn.onclick = function () {
  const hasSpun = localStorage.getItem(hasSpunKey);
  const storedPrize = localStorage.getItem(storedPrizeKey);

  if (hasSpun && storedPrize) {
    // Already spun: show reward in the modal
    showModal();
    showAlreadySpun(storedPrize);
    return;
  }
  // Ready to spin!
  showModal();
  showWheel();
};

function showAlreadySpun(prizeLabel) {
  modalContent.innerHTML = `
    <div class="spin-title">Your Spin Reward</div>
    <div class="spin-result-msg" style="font-size:1.16rem;">
      ðŸŽ‰ <b>Congrats!</b><br>
      You already spun and won <span style="font-size:1.23em;color:#ffe082;background:#b43c70;padding:0.05em 0.5em;border-radius:0.9em;">${prizeLabel}</span>!
    </div>
  `;
}
